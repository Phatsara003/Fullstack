<% include ../partials/header %>


<h2>Filterable Table</h2>
<p>Type something in the input field to search the table for first names, last names or emails:</p>  
<input class="form-control" id="myInput" type="text" placeholder="Search..">



<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Price</th>
            <td><a  class="btn btn-primary" href="/product_add" role="button">Add new</a></td>
        </tr>
         
    </thead>
    <tbody id="myTable">
    <%products.forEach(function(product){ %>
<tr>
            <td scope="row"><%= product.id %></td>
            <td><%= product.title %></td>
            <td><%= product.price %></td>
            <td><a  class="btn btn-warning" href="/products/<%= product.id%>" role="button">Update</a>
            <a  class="btn btn-danger" href="/product_delete/<%=product.id%>" role="button">Delete</a></td>
        </tr>
        
    <% }); %>
        
        
    </tbody>

    
</table>
<script>
        $(document).ready(function(){
          $("#myInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#myTable tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
        });
        </script>
 